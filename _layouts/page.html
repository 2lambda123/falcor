---
layout: base
---

<body>
  {% include navigation.html %}

  <main class="container standard-page">
    <div class="row">
      <div class="col-xs-12 col-lg-10 col-lg-offset-1">
        {{ content }}        
      </div>
    </div>
    <!-- TODO: replace this space with a css style -->
    <div class="row row-gap-huge"></div>
  </main>
  
  {% include javascript-includes.html %}
  <script>
    $(document).ready(function () {
      // =============================================
      // = Initialize Table of Contents (If Present) =
      // =============================================
      
      // Since we can't touch the kramdown autogenrated TOC code,
      // instead just wrap it in the sitewide TOC class, since the rest
      // of it is very reasonably structured.
      $('#markdown-toc').wrap('<div class="table-of-contents"></div>');
      // Make the kramdown generated toc into a valid bootstrap nav
      $('#markdown-toc').addClass('nav');
      // To prevent flash-of-awkwardly-styled-content, the toc is hidden until
      // the processing above is done.
      $('.toc-page').removeClass('not-ready');
      $('body').scrollspy({target: '.table-of-contents'});
      
      
      // ========================
      // = Prettify Code Blocks =
      // ========================
      
      // Transform all pre blocks that were presumably autogenerated by markdown so
      // they'll be prettified too
      $('pre:not([class])').addClass('prettyprint source');
      
      window.prettyPrint();
      
      // Copied directly from the linenumbers.js file included with the
      // default JSDoc theme.
      (function () {
          var source = document.getElementsByClassName('prettyprint source linenums');
          var i = 0;
          var lineNumber = 0;
          var lineId;
          var lines;
          var totalLines;
          var anchorHash;

          if (source && source[0]) {
              anchorHash = document.location.hash.substring(1);
              lines = source[0].getElementsByTagName('li');
              totalLines = lines.length;

              for (; i < totalLines; i++) {
                  lineNumber++;
                  lineId = 'line' + lineNumber;
                  lines[i].id = lineId;
                  if (lineId === anchorHash) {
                      lines[i].className += ' selected';
                  }
              }
          }
      })();
    });    
  </script>
</body>
